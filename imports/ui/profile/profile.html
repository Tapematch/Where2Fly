<template name="profile">
    <div class="container">
        <h2>{{_ "profile"}}</h2>
        <h3>{{_ "user"}}</h3>
        <ul>
            <li>{{_ "username"}}: {{user.username}}</li>
            <li>{{_ "email"}}: {{user.emails.[0].address}}</li>
            <li>{{_ "phone"}}: {{user.profile.phone}}</li>
        </ul>
        <h3>{{_ "profile"}}</h3>
        <ul>
            <li>{{_ "name"}}: {{user.profile.fullname}}</li>
            <li>{{#unless user.profile.commercial}}{{_ "nonCommercial"}}{{else}}{{_ "commercial"}}{{/unless}}</li>
            <li>UAVs: {{user.profile.uavs}}</li>
            <li>{{_ "website"}}: {{user.profile.website}}</li>
            <li>Facebook: {{user.profile.facebook}}</li>
            <li>Twitter: {{user.profile.twitter}}</li>
            <li>Instagram: {{user.profile.instagram}}</li>
        </ul>

        <div class="user-actions">
            {{#if isCurrentUser}}

                <button class="btn btn-primary edit" type="button"><span
                        class="glyphicon glyphicon-pencil" aria-hidden="true"></span> {{_ "editProfile"}}
                </button>
            {{/if}}

            <button type="button" class="btn btn-secondary report" title="{{_ "reportProfile"}}"><i
                    class="fa fa-exclamation-triangle" aria-hidden="true"></i>
            </button>
        </div>
        <h3>{{_ "photos"}}</h3>
        <div class="gallery">
            {{#each photos}}
                {{> photo}}
            {{/each}}
        </div>
        <div class="row"></div>

        <h3>{{_ "places"}}</h3>
    </div>
    <heroimage>
        <div class="map-container-detail">
            {{> googleMap name="myprofileMap" options=myprofileMapOptions}}
        </div>

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    </heroimage>
</template>

<template name="editProfileModal">
    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="editProfileModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="editProfileModalLabel">{{currentUser.username}}</h4>
                </div>
                <div class="modal-body">
                    <form class="place-form-edit save">
                        {{_ "phone"}}:<br>
                        <input autocomplete="tel-national" type="tel" name="phone"
                               value={{currentUser.profile.phone}}><br>
                        <hr>
                        {{_ "name"}}:<br>
                        <input autocomplete="name" type="text" name="fullname"
                               value={{currentUser.profile.fullname}}><br>
                        {{_ "commercial"}}:<br>
                        <input type="checkbox" name="commercial" checked={{currentUser.profile.commercial}}><br>
                        UAVs:<br>
                        <input type="text" name="uavs" value={{currentUser.profile.uavs}}><br>
                        {{_ "website"}}:<br>
                        <input type="url" name="website" value={{currentUser.profile.website}}><br>
                        Facebook:<br>
                        <input type="text" name="facebook" value={{currentUser.profile.facebook}}><br>
                        Twitter:<br>
                        <input type="text" name="twitter" value={{currentUser.profile.twitter}}><br>
                        Instagram:<br>
                        <input type="text" name="instagram" value={{currentUser.profile.instagram}}><br>

                        <button type="submit" class="btn btn-primary save">{{_ "saveProfile"}}</button>
                    </form>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-warning" data-dismiss="modal">{{_ "cancel"}}</button>
                </div>
            </div>
        </div>
    </div>
</template>